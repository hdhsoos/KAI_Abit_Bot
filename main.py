# -*- coding: utf-8 -*-

from api import api_token  # –¢–æ–∫–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
from keyboards import *  # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
from aiogram import Bot, Dispatcher, types, F
from aiogram.filters.command import Command
import aioschedule
import asyncio
import json
from datetime import date
from functions import *
from recs import *

bot = Bot(token=api_token)  # –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø—É–Ω–∫—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å aiogram
dp = Dispatcher()
with open('users.json', 'r') as fh:
    USERS = json.load(fh)  # –ó–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    # {id: [type, [directions]]]}
with open('score.json', 'r') as fh:  # –ó–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–ª–ª—ã
    SCORES = json.load(fh)
    # {id: [0, 0, 0, 0, 0, 0, 0, 0]}
    # –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –†—É—Å—Å–∫–∏–π, –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞, –§–∏–∑–∏–∫–∞, –•–∏–º–∏—è, –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ, –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π, –î–æ–ø
with open('FLAG.json', 'r') as fh:  # –ó–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–ª–∞–≥–∏
    FLAG = json.load(fh)
    # {id: [True]) –∑–∞–¥–∞–Ω –ª–∏ –≤–æ–ø—Ä–æ—Å
admins = ['397472187', '537266469']

basic_answer_unknown = '–ö–∞–∂–µ—Ç—Å—è, –º—ã –Ω–µ–∑–Ω–∞–∫–æ–º—ã. –û—Ç–ø—Ä–∞–≤—å –∫–æ–º–∞–Ω–¥—É /start –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Å—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.'

@dp.message(Command("adm_change"))  # –†–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥—É —Å—Ç–∞—Ä—Ç
async def adm_change(message: types.Message):
    global forbachelor
    if str(message.from_user.id) in admins:
        file = open('flag.txt', 'r')
        x = file.read()
        file.close()
        file = open('flag.txt', 'w')
        if x == 'false':
            file.write('true')
            file.close()
        else:
            file.write('false')
            file.close()
        forbachelor = ReplyKeyboardBuilder()  # –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –±–∞–∫–∞–ª–∞–≤—Ä–æ–≤
        if x == 'false':
            A = ["üëã –û –Ω–∞—Å", "üìã –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è", "üåü –í–∞–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è", "üìÉ –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è", "üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç",
                 "üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏", "‚ùì –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å", "‚úñÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä"]
        else:
            A = ["üëã –û –Ω–∞—Å", "üìã –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è", "üåü –í–∞–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è", "üìÉ –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è", "üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç",
                 "‚ùì –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å", "‚úñÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä"]
        for el in A:
            forbachelor.add(types.KeyboardButton(text=el))
        forbachelor.adjust(2)
        await message.answer('–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã.',
                             reply_markup=forbachelor.as_markup(resize_keyboard=True))
    else:
        await message.answer('–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.',
                             reply_markup=forbachelor.as_markup(resize_keyboard=True))


@dp.message(Command("start"))  # –†–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥—É —Å—Ç–∞—Ä—Ç
async def send_welcome(message: types.Message):
    global USERS, COUNTER
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) not in USERS:
        save_log('–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {}'.format(str(message.from_user.id)))
    if str(message.from_user.id) not in USERS or USERS[
        str(message.from_user.id)][0] == '':  # –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ä—Ç –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª—Å—è
        USERS[str(message.from_user.id)][0] = ['', '']
        with open('users.json', 'w') as fp:
            json.dump(USERS, fp)
        FLAG[str(message.from_user.id)] = [False]
        with open('FLAG.json', 'w') as fp:
            json.dump(FLAG, fp)
        await message.answer(
            '–ü—Ä–∏–≤–µ—Ç, {}. –Ø –±–æ—Ç –ö–ù–ò–¢–£-–ö–ê–ò, –∏ —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ —É–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ 2024 –≥–æ–¥—É.'.format(
                message.from_user.first_name))
        await message.answer("–í—ã–±–µ—Ä–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –∫—É–¥–∞ —Ç—ã –±—É–¥–µ—à—å –ø–æ—Å—Ç—É–ø–∞—Ç—å.",
                             reply_markup=first_qu.as_markup(resize_keyboard=True))
    else:
        # –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –ø–µ—Ä–≤—ã–π —Å—Ç–∞—Ä—Ç
        if USERS[
            str(message.from_user.id)][
            0] == 'bachelor':  # –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–∑–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            await message.answer('–ú—ã —É–∂–µ –∑–¥–æ—Ä–æ–≤–∞–ª–∏—Å—å! –í—ã–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–∏–∂–µ.',
                                 reply_markup=forbachelor.as_markup(resize_keyboard=True))
        elif USERS[str(message.from_user.id)][0] == 'magistracy':
            await message.answer('–ú—ã —É–∂–µ –∑–¥–æ—Ä–æ–≤–∞–ª–∏—Å—å! –í—ã–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–∏–∂–µ.',
                                 reply_markup=formagistracy.as_markup(resize_keyboard=True))
        elif USERS[str(message.from_user.id)][0] == 'spo':
            await message.answer('–ú—ã —É–∂–µ –∑–¥–æ—Ä–æ–≤–∞–ª–∏—Å—å! –í—ã–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–∏–∂–µ.',
                                 reply_markup=forspo.as_markup(resize_keyboard=True))
        elif USERS[str(message.from_user.id)][0] == 'grad':
            await message.answer('–ú—ã —É–∂–µ –∑–¥–æ—Ä–æ–≤–∞–ª–∏—Å—å! –í—ã–±–µ—Ä–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–∏–∂–µ.',
                                 reply_markup=forgrad.as_markup(resize_keyboard=True))


@dp.message(Command("stats"))  # –†–µ–∞–∫—Ü–∏—è –Ω–∞ –∫–æ–º–∞–Ω–¥—É stats
async def stats(message: types.Message):
    if str(message.from_user.id) in admins:
        count_b, count_m, count_s, count_today = 0, 0, 0, 0
        a = str(date.today())
        for el in USERS:
            if USERS[el][0] == 'bachelor':
                count_b += 1
            elif USERS[el][0] == 'magistracy':
                count_m += 1
            elif USERS[el][0] == 'spo':
                count_s += 1
        with open('stats.json', 'r') as fh:
            STATS = json.load(fh)
        for el in STATS:
            if STATS[el] == a:
                count_today += 1
        await message.answer("""–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {}
    –ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç: {}
    –ú–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–∞: {}
    –°–ü–û: {}""".format(len(USERS), count_b, count_m, count_s))
        await message.answer("""–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞—Ö–æ–¥–∏–ª–æ —Å–µ–≥–æ–¥–Ω—è: {}""".format(count_today))
    else:
        await message.answer('–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.',
                             reply_markup=forbachelor.as_markup(resize_keyboard=True))

@dp.message(F.text == "‚úñÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä")  # –ö–æ–º–∞–Ω–¥–∞ clear, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
async def clear(message: types.Message):
    logging_date(str(message.from_user.id))
    USERS[str(message.from_user.id)][0] = ''
    with open('users.json', 'w') as fp:
        json.dump(USERS, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    await message.answer('–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –∑–∞–Ω–æ–≤–æ –≤—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.',
                         reply_markup=first_qu.as_markup(resize_keyboard=True))


@dp.message(F.text == "üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏")
async def recs_main(message: types.Message):
    file = open('flag.txt', 'r')
    x = file.read()
    file.close()
    if x == 'true':
        logging_date(str(message.from_user.id))
        max_score = get_scores(str(message.from_user.id), SCORES)
        doc = USERS[str(message.from_user.id)][1]
        if doc == [] or max_score == 'notin' or max_score == 'nosum':
            await message.answer(
                '–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º, –≤–≤–µ–¥–∏ –±–∞–ª–ª—ã –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.',
                reply_markup=forbachelor.as_markup(resize_keyboard=True))
        else:
            spec = USERS[str(message.from_user.id)][1]
            counter_recs = 0
            res = '–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –≤–∞–º –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Ç–µ—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—à–∏ —à–∞–Ω—Å—ã –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–µ–≤—ã—Å–æ–∫–∏. –ü—Ä–æ—Ö–æ–¥–Ω—ã–µ –±–∞–ª–ª—ã —É–∫–∞–∑–∞–Ω—ã –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ.\n\n'
            PR_BL = read_pr_bl()  # –≤—Ä–µ–º–µ–Ω–Ω–æ. –ø–æ—Ç–æ–º –Ω–∞–¥–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —á—Ç–æ–±—ã —Ä–∞–∑ –≤ –Ω–µ—Å–∫ —á–∞—Å–æ–≤
            for el in spec:
                y = PR_BL[el]
                res += el + ' ({}) \n'.format(y)
                if y > max_score:
                    j = 0
                    for pr in RECS[el]:
                        if j <= 4:
                            x = PR_BL[pr]
                            if x <= max_score:
                                res += '- {} ({})\n'.format(pr, x)
                                j += 1
                        else:
                            break
                    if j == 0:
                        res += '–ù–∏—á–µ–≥–æ –Ω–µ –º–æ–≥—É –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å.\n'  # –Ω–∞–¥–æ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å –∫—É–¥–∞ –±–µ—Ä—É—Ç
                    res += '\n'
                else:
                    counter_recs += 1
                    res += '–í–∞—à–∏—Ö –±–∞–ª–ª–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.\n\n'
            if counter_recs == len(spec):
                res = '–í—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –≤—Å–µ –∂–µ–ª–∞–µ–º—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è!'
            await message.answer(res, reply_markup=forbachelor.as_markup(resize_keyboard=True))
    else:
        await message.answer('–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.',
                             reply_markup=forbachelor.as_markup(resize_keyboard=True))


@dp.message(F.text == "üìö –ù–∞ –±–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç")  # –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–≤—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –±–∞–∫–∞–ª–∞–≤—Ä
async def bachelor(message: types.Message):
    USERS[str(message.from_user.id)][0] = 'bachelor'  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–µ–º —Å–µ–±—è –Ω–∞–∑–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    if str(message.from_user.id) not in SCORES:  # –ß—Ç–æ–±—ã –ø—Ä–∏ —Å–º–µ–Ω–µ –≤—ã–±–æ—Ä–∞ –±–∞–ª–ª—ã –ï–ì–≠ –Ω–µ —É–¥–∞–ª—è–ª–∏—Å—å
        SCORES[str(message.from_user.id)] = [0, 0, 0, 0, 0, 0, 0, 0]  # –ó–¥–µ—Å—å –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ–∑–∂–µ
    with open('users.json', 'w') as fp:
        json.dump(USERS, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    with open('score.json', 'w') as fp:
        json.dump(SCORES, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    await message.answer(
        "–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –¢—ã —Å–¥–µ–ª–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä, –µ—Å–ª–∏ –ø–æ—Å—Ç—É–ø–∏—à—å –∫ –Ω–∞–º, –≤–µ–¥—å –≤ –ö–ù–ò–¢–£-–ö–ê–ò –±–æ–ª–µ–µ 40 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –±–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç–∞ –∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Å–ø–µ—Ü–∏–∞–ª–∏—Ç–µ—Ç–∞. –ü–æ—Å—Ç—É–ø–∏–≤ –∫ –Ω–∞–º, —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏—à—å –ø—Ä–µ—Å—Ç–∏–∂–Ω—ã–π –¥–∏–ø–ª–æ–º –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ ‚Äì —Ç—ã –ø–æ–ª—É—á–∏—à—å —Ä–µ–∞–ª—å–Ω–æ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Ä—ã–Ω–∫–µ —Ç—Ä—É–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏—é. –í—ã–±–µ—Ä–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –æ —á–µ–º —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.",
        reply_markup=forbachelor.as_markup(resize_keyboard=True))


@dp.message(F.text == "üë©‚Äçüéì –í –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä—É")  # –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–≤—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –º–∞–≥–∏—Å—Ç—Ä–∞–Ω—Ç
async def magistracy(message: types.Message):
    USERS[str(message.from_user.id)][0] = 'magistracy'  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–µ–º —Å–µ–±—è –Ω–∞–∑–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    with open('users.json', 'w') as fp:
        json.dump(USERS, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    await message.answer(
        "–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –í—ã–±–µ—Ä–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –æ —á–µ–º —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.",
        reply_markup=formagistracy.as_markup(resize_keyboard=True))


@dp.message(F.text == "üìî –ù–∞ –°–ü–û")  # –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–≤—à–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å—Ç—É–ø–∞–µ—Ç –Ω–∞ —Å–ø–æ
async def spo(message: types.Message):
    USERS[str(message.from_user.id)][0] = 'spo'  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–µ–º —Å–µ–±—è –Ω–∞–∑–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    with open('users.json', 'w') as fp:
        json.dump(USERS, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    await message.answer(
        "–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –í—ã–±–µ—Ä–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –æ —á–µ–º —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.",
        reply_markup=forspo.as_markup(resize_keyboard=True))


@dp.message(F.text == "üî≠ –í –∞—Å–ø–∏—Ä–∞–Ω—Ç—É—Ä—É")
async def grad(message: types.Message):
    logging_date(str(message.from_user.id))
    USERS[str(message.from_user.id)][0] = 'grad'  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫–µ–º —Å–µ–±—è –Ω–∞–∑–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
    with open('users.json', 'w') as fp:
        json.dump(USERS, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
    await message.answer("–ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è! –í—ã–±–µ—Ä–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ç–µ–±—è —Ä–∞–∑–¥–µ–ª.",
                         reply_markup=forgrad.as_markup(resize_keyboard=True))


@dp.message(F.text == "‚ùì –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å")  # –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞
async def askme(message: types.Message):
    logging_date(str(message.from_user.id))
    await message.answer('üí´ <a href="t.me/pk_kai24">–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø–∏—à–∏ –≤ –Ω–∞—à —á–∞—Ç!</a> üí´', parse_mode="HTML",
                         disable_web_page_preview=True)


@dp.message(F.text == "üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç")
async def profile(message: types.Message):
    global SCORES
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) not in SCORES or sum(SCORES[str(message.from_user.id)]) == 0:
        SCORES[str(message.from_user.id)] = [0, 0, 0, 0, 0, 0, 0, 0]
        with open('score.json', 'w') as fp:
            json.dump(SCORES, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
        await message.answer("""
–¢—ã –µ—â—ë –Ω–µ –≤–≤–æ–¥–∏–ª(–∞) —Å–≤–æ–∏ –±–∞–ª–ª—ã –ï–ì–≠. –í—ã–±–µ—Ä–∏ –ø—Ä–µ–¥–º–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –≤—ã—à–µ –∏ –≤–≤–µ–¥–∏ –±–∞–ª–ª—ã, —è –∑–∞–ø–æ–º–Ω—é –∏—Ö.\n–¢–∞–∫–∂–µ –º–æ–∂–µ—à—å –≤–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –û–ë–©–ï–ú–£ –ö–û–ù–ö–£–†–°–£, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º —è —Å–∞–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–ª –ø–æ—Å—Ç—É–ø–∞–µ—à—å –ª–∏ —Ç—ã —Ç—É–¥–∞, –∫—É–¥–∞ —Ö–æ—á–µ—à—å.""",
                             reply_markup=subj_keyb)
    else:
        A = ['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–§–∏–∑–∏–∫–∞', '–•–∏–º–∏—è', '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ', '–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫',
             '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã']
        res = ''
        end = ''
        s = SCORES[str(message.from_user.id)][-1]  # –°—É–º–º–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ + —Ä—É—Å—Å–∫–∏–π + –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        usl = True  # –û—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç—Ä—É –µ—Å–ª–∏ —Ä—É—Å—Å–∫–∏–π –∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –µ—Å—Ç—å
        usl2 = False
        if s > 0:
            usl2 = True
        for i in range(8):
            x = SCORES[str(message.from_user.id)][i]
            if x != 0:
                res += '{}: {}\n'.format(A[i], x)
                if i < 2:
                    s += x
                elif 2 <= i < 7 and usl:
                    if usl2:
                        end += '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ + –†—É—Å—Å–∫–∏–π + {} + –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è = {}\n'.format(A[i], s + x)
                    else:
                        end += '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ + –†—É—Å—Å–∫–∏–π + {} = {}\n'.format(A[i], s + x)
            else:
                if i < 2:
                    usl = False
        if end == '':
            end = '–û–±—â–∞—è —Å—É–º–º–∞: {}'.format(sum(SCORES[str(message.from_user.id)]))
        if USERS[str(message.from_user.id)][1] != []:
            end += '\n–¢–≤–æ–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è: <code>{}</code>\n'.format(' '.join(USERS[str(message.from_user.id)][1]))
        await message.answer(
            """{}
{}
–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–ª—ã, –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è. –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –±–∞–ª–ª—ã –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ –ø—Ä–µ–¥–º–µ—Ç—É, –≤—ã–±–µ—Ä–∏ –µ–≥–æ –∏ –æ—Ç–ø—Ä–∞–≤—å 0.""".format(
                res, end), reply_markup=subj_keyb, parse_mode='HTML')


@dp.message(F.text == "üëã –û –Ω–∞—Å")
async def askme(message: types.Message):
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'bachelor':
            await message.answer(
                '–í –ö–ê–ò –æ–±—É—á–µ–Ω–∏–µ ‚Äì —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –ª–µ–∫—Ü–∏–∏ –∏ —Å–µ—Å—Å–∏–∏. –£ –Ω–∞—Å –∂–∏–∑–Ω—å –∫–∏–ø–∏—Ç –∏ –∏–≥—Ä–∞–µ—Ç: –º—ã –ø–æ–µ–º, —Ç–∞–Ω—Ü—É–µ–º –∏ —Ç–≤–æ—Ä–∏–º –Ω–∞ ¬´–°—Ç—É–¥–µ–Ω—á–µ—Å–∫–æ–π –≤–µ—Å–Ω–µ¬ª –∏ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–º —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ ¬´–ò–∫–∞—Ä–∏–∞–¥–∞¬ª, —É–∫—Ä–µ–ø–ª—è–µ–º —Ç–µ–ª–æ –∏ –¥—É—Ö –≤ –∫–ª–∞—Å—Å–Ω–æ–º —Å–ø–æ—Ä—Ç–∫–æ–º–ø–ª–µ–∫—Å–µ —Å –±–∞—Å—Å–µ–π–Ω–æ–º –∏ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∫–æ–π, –≤—ã–µ–∑–∂–∞–µ–º –Ω–∞ –ø—Ä–∏—Ä–æ–¥—É –≤ –∑–∞–≥–æ—Ä–æ–¥–Ω—ã–π –ª–∞–≥–µ—Ä—å. –ê –µ—â–µ —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–≤–æ—Ä–∫–∏–Ω–≥–∏, –≤–∞–π—Ñ–∞–π, —É–¥–æ–±–Ω—ã–µ –æ–±—â–µ–∂–∏—Ç–∏—è –∏ –≤–∫—É—Å–Ω—è—à–∫–∏ –≤ —Å—Ç–æ–ª–æ–≤—ã—Ö.',
                reply_markup=next_back.as_markup(resize_keyboard=True))
        elif USERS[str(message.from_user.id)][0] == 'spo':
            await message.answer("""–í –ö–ù–ò–¢–£-–ö–ê–ò –¥–≤–∞ –æ—Ç–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. 
–ö–æ–ª–ª–µ–¥–∂ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–ª–ª–µ–¥–∂. –í—ã–±–µ—Ä–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ, –æ –∫–∞–∫–æ–º –∫–æ–ª–ª–µ–¥–∂–µ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.""",
                                 reply_markup=spo_about.as_markup(resize_keyboard=True))
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text == "üìÉ –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è")
async def docs(message: types.Message):
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'bachelor':
            await message.answer("""–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –Ω–∞ –≥–æ—Å—É—Å–ª—É–≥–∞—Ö, <a href="lk.kai.ru">–≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ –∫–∞–∏</a>, –∞ —Ç–∞–∫–∂–µ –ª–∏—á–Ω–æ –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ.
–ü—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–ª–µ–Ω–∏—è –æ –ø—Ä–∏–µ–º–µ –ø–æ—Å—Ç—É–ø–∞—é—â–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç/–ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç:

üîπ–î–æ–∫—É–º–µ–Ω—Ç, —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–∏–π –ª–∏—á–Ω–æ—Å—Ç—å, –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ (–¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –≥—Ä–∞–∂–¥–∞–Ω –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥);
üîπ–î–æ–∫—É–º–µ–Ω—Ç –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ (–¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –≥—Ä–∞–∂–¥–∞–Ω –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥);
üîπ–î–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –æ—Å–æ–±—ã–µ –ø—Ä–∞–≤–∞ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ –ø—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –≤ –≤—ã—Å—à–∏–µ —É—á–µ–±–Ω—ã–µ  –∑–∞–≤–µ–¥–µ–Ω–∏—è, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏);
üîπ–î–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å <a href="https://abiturientu.kai.ru/documents/1470594/10922774/–ü–æ—Ä—è–¥–æ–∫+—É—á–µ—Ç–∞+—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤+–ò–î+–ø–æ—Å—Ç—É–ø–∞—é—â–∏—Ö.pdf/607793cf-f308-4169-9b70-ef9c2f32f3b8">–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º</a> (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏);
üîπ–°—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏);
üîπ<a href="https://abiturientu.kai.ru/documents/10181/9641606/doverennost.docx/df8f7652-9c55-4f79-96fe-fdec143f000c">–î–æ–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</a> (–≤ —Å–ª—É—á–∞–µ –ø–æ–¥–∞—á–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º –ª–∏—Ü–æ–º).

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏—ë–º–∞ –º–æ–∂–Ω–æ <a href="https://abiturientu.kai.ru/kalendar-priema">–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—É—Ç</a>.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
        elif USERS[str(message.from_user.id)][0] == 'magistracy':
            await message.answer("""–ü—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–ª–µ–Ω–∏—è –æ –ø—Ä–∏–µ–º–µ –ø–æ—Å—Ç—É–ø–∞—é—â–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç/–ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç:

üîπ–ö–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞, —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–µ–≥–æ –µ–≥–æ –ª–∏—á–Ω–æ—Å—Ç—å, –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ.
üîπ–û—Ä–∏–≥–∏–Ω–∞–ª, –∫–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏.
üîπ–ö–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏).

–¢–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏—è –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –≤–∏–¥–µ. –≠—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ - lk.kai.ru\

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏—ë–º–∞ –º–æ–∂–Ω–æ <a href="https://abiturientu.kai.ru/kalendar-priema">–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—É—Ç</a>.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
        elif USERS[str(message.from_user.id)][0] == 'spo':
            await message.answer("""–ü—Ä–∏ –ø–æ–¥–∞—á–µ –∑–∞—è–≤–ª–µ–Ω–∏—è –æ –ø—Ä–∏–µ–º–µ –ø–æ—Å—Ç—É–ø–∞—é—â–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç/–ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç:

üîπ–ö–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞, —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–µ–≥–æ –µ–≥–æ –ª–∏—á–Ω–æ—Å—Ç—å, –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ.
üîπ–û—Ä–∏–≥–∏–Ω–∞–ª, –∫–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏.
üîπ–ö–æ–ø–∏—é –∏–ª–∏ —Å–∫–∞–Ω-–∫–æ–ø–∏—é —Å—Ç—Ä–∞—Ö–æ–≤–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏).

–¢–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∞—Ç—å –∑–∞—è–≤–ª–µ–Ω–∏—è –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–º –≤–∏–¥–µ. –≠—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ - lk.kai.ru

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–∏—ë–º–∞ –º–æ–∂–Ω–æ <a href="https://abiturientu.kai.ru/kalendar-priema">–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—É—Ç</a>.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text == "üìã –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
async def directions(message: types.Message):
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'bachelor':
            await message.answer("""–í—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –∏–Ω—Å—Ç–∏—Ç—É—Ç–∞–º –∏ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞–º, –Ω–∞–∂–º–∏ –Ω–∞ –ª—é–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –ø–æ–ø–∞–¥—ë—à—å –Ω–∞ –Ω–∞—à —Å–∞–π—Ç, –≥–¥–µ —Å–º–æ–∂–µ—à—å –ø–æ–¥—Ä–æ–±–Ω–æ –≤—Å—ë –∏–∑—É—á–∏—Ç—å.

<a href="https://abiturientu.kai.ru/iante/obrazovatel-nye-programmy-bakalavriata">‚úàÔ∏è –ò–Ω—Å—Ç–∏—Ç—É—Ç –∞–≤–∏–∞—Ü–∏–∏, –Ω–∞–∑–µ–º–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏ (–ò–ê–ù–¢–≠)</a>
<a href="https://abiturientu.kai.ru/fmf-/-obrazovatel-nye-programmy-bakalavriata">‚öõÔ∏è –§–∏–∑–∏–∫–æ-–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—É–ª—å—Ç–µ—Ç (–§–ú–§)</a>
<a href="https://abiturientu.kai.ru/iaep-/-obrazovatel-nye-programmy-bakalavriata">üéõÔ∏èÔ∏è –ò–Ω—Å—Ç–∏—Ç—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏—è (–ò–ê–≠–ü)</a>
<a href="https://abiturientu.kai.ru/iktzi-/-obrazovatel-nye-programmy-bakalavriata">üñ• –ò–Ω—Å—Ç–∏—Ç—É—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –∑–∞—â–∏—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ò–ö–¢–ó–ò)</a>
<a href="https://abiturientu.kai.ru/iret-/-obrazovatel-nye-programmy-bakalavriata">üì° –ò–Ω—Å—Ç–∏—Ç—É—Ç —Ä–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏, —Ñ–æ—Ç–æ–Ω–∏–∫–∏ –∏ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–ò–†–≠–§-–¶–¢)</a>
<a href="https://abiturientu.kai.ru/ieust-/-obrazovatel-nye-programmy-bakalavriata">üí∞ –ò–Ω—Å—Ç–∏—Ç—É—Ç –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏ –∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–ò–ò–≠–∏–ü)</a>
<a href="https://abiturientu.kai.ru/vspit-/-obrazovatel-nye-programmy-bakalavriata">üöÄ –í—ã—Å—à–∞—è —à–∫–æ–ª–∞ –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π (–í–®–ü–ò–¢)</a>

–¢–∞–∫–∂–µ —Ç—ã –º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ <a href="https://abiturientu.kai.ru/obrazovatel-nye-programmy?ed=1">–ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ</a> —Å –ø–æ–º–æ—â—å—é —Ñ–∏–ª—å—Ç—Ä–æ–≤.""",
                                 parse_mode="HTML", disable_web_page_preview=True, reply_markup=see_point_keyb)
        elif USERS[str(message.from_user.id)][0] == 'magistracy':
            await message.answer("""<a href="https://abiturientu.kai.ru/obrazovatel-nye-programmy?ed=2">–ü–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ</a> —Ç—ã –º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–∏–ª—å—Ç—Ä—ã. –¢–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø–ª–∞–Ω–æ–º –ø—Ä–∏—ë–º–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç):
üî∏<a href="https://abiturientu.kai.ru/documents/1470594/12192680/–ü–õ–ê–ù+–ü–†–ò–Å–ú–ê+–º–∞–≥+–±—é–¥–∂–µ—Ç+2024.pdf/e99089c6-51e2-421b-a2f7-b1f1ce37edd6">–ù–∞ –±—é–¥–∂–µ—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</a>
üî∏<a href="https://abiturientu.kai.ru/documents/1470594/12192680/–ü–õ–ê–ù+–ü–†–ò–Å–ú–ê+–º–∞–≥+–¥–æ–≥–æ–≤–æ—Ä+2024.pdf/63161d0b-5466-4c28-a1ba-4718ba791dcb">–° –æ–ø–ª–∞—Ç–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</a>
üî∏<a href="https://abiturientu.kai.ru/documents/1470594/12192680/–ü–õ–ê–ù+–ü–†–ò–Å–ú–ê+—Ü–Ω–æ+–º–∞–≥+–¥–æ–≥–æ–≤–æ—Ä+2024.pdf/2e4a2f9f-36e1-4a48-8d7d-fa521e340375">–° –æ–ø–ª–∞—Ç–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏, –∑–∞–æ—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</a>

–ü—Ä–æ—Ö–æ–¥–Ω—ã–µ –±–∞–ª–ª—ã –∑–∞ 2023 –≥–æ–¥ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ <a href="https://abiturientu.kai.ru/documents/1470594/10927743/–†–µ–∑—É–ª—å—Ç–∞—Ç—ã+–∫–æ–Ω–∫—É—Ä—Å–Ω–æ–≥–æ+–ø—Ä–∏–µ–º–∞+2023.pdf/1015e6e2-f98e-4f84-88eb-57b99c258d07">–∑–¥–µ—Å—å</a>.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
        elif USERS[str(message.from_user.id)][0] == 'spo':
            await message.answer("""<a href="https://abiturientu.kai.ru/obrazovatel-nye-programmy?ed=3">–ü–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ</a> —Ç—ã –º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–∏–ª—å—Ç—Ä—ã.
            
–¢–∞–∫–∂–µ –º–æ–∂–µ—à—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø—Ä–∏—ë–º–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–µ—Å—Ç):
‚ñ™Ô∏è <a href="https://abiturientu.kai.ru/documents/1470594/12196147/–ü–õ–ê–ù+–ü–†–ò–ï–ú–ê+–°–ü–û+–±—é–¥–∂–µ—Ç.pdf/d7545213-5190-4cb1-b667-344f4772af4a">–ù–∞ –±—é–¥–∂–µ—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ</a>
‚ñ™Ô∏è <a href="https://abiturientu.kai.ru/documents/1470594/12196147/–ü–õ–ê–ù+–ü–†–ò–ï–ú–ê+–°–ü–û+–¥–æ–≥–æ–≤–æ—Ä.pdf/7ea9acca-8072-4150-b19c-664f52a050b2">–° –æ–ø–ª–∞—Ç–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</a>

–ü—Ä–æ—Ö–æ–¥–Ω—ã–µ –±–∞–ª–ª—ã –∑–∞ 2023 –≥–æ–¥ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ <a href="https://abiturientu.kai.ru/documents/1470594/10927743/–†–µ–∑—É–ª—å—Ç–∞—Ç—ã+–∫–æ–Ω–∫—É—Ä—Å–Ω–æ–≥–æ+–ø—Ä–∏–µ–º–∞+2023.pdf/1015e6e2-f98e-4f84-88eb-57b99c258d07">–∑–¥–µ—Å—å</a>.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
        elif USERS[str(message.from_user.id)][0] == 'grad':
            await message.answer("""""", parse_mode="HTML", disable_web_page_preview=True)
    else:
        await message.answer(basic_answer_unknown)


@dp.callback_query()
async def callbacks_num(callback: types.CallbackQuery):
    global FLAG
    action = callback.data
    if action.split('_')[0] == 'Subj':
        await callback.message.answer('–í–≤–µ–¥–∏ –±–∞–ª–ª. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª(–∞) –æ—Ç–ø—Ä–∞–≤—å –ª—é–±–æ–π —Å–∏–º–≤–æ–ª.')
        FLAG[str(callback.from_user.id)] = [action.split('_')[1]]
        with open('FLAG.json', 'w') as fp:
            json.dump(FLAG, fp)
    elif action == 'number_doc':
        await callback.message.answer(
            '–í–≤–µ–¥–∏ –¥–æ –ø—è—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ù–∞–ø—Ä–∏–º–µ—Ä: "<code>09.03.04 10.03.01 01.03.02</code>". –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª(–∞) –æ—Ç–ø—Ä–∞–≤—å "<code>—Å—Ç–æ–ø</code>".\n\n–í–∞–∂–Ω–æ! –°—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –î–£–ë–õ–ò–†–£–Æ–¢–°–Ø.\n–ï—Å–ª–∏ —Ç—ã –ø–æ—Å—Ç—É–ø–∞–µ—à—å –Ω–∞ "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫—É –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É" –Ω–∞ –ò–ö–¢–ó–ò, –≤–≤–æ–¥–∏ <code>09.03.01</code>, –∞ –µ—Å–ª–∏ –Ω–∞ –í–®–ü–ò–¢, —Ç–æ <code>09.03.01(–í–®–ü–ò–¢)</code>. <code>12.03.04</code> –¥–ª—è –ò–†–≠–§-–¶–¢ –∏ <code>12.03.04(–ò–ê–≠–ü)</code> –¥–ª—è –ò–ê–≠–ü.', parse_mode="HTML")
        FLAG[str(callback.from_user.id)] = ['doc']
        with open('FLAG.json', 'w') as fp:
            json.dump(FLAG, fp)
    elif action == "see_points":
        await callback.message.answer("–í—ã–±–µ—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π —Ç–µ–±—è –∏–Ω—Å—Ç–∏—Ç—É—Ç –∏–ª–∏ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç.", reply_markup=facult_keyb)
    elif action == "IANTE":
        await callback.message.answer("""<b>13.03.01 –¢–µ–ø–ª–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞ –∏ —Ç–µ–ø–ª–æ—Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 165    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 78

<b>13.03.03 –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ</b>
–ë—é–¥–∂–µ—Ç: 169    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 156

<b>15.03.01 –ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ</b>
–ë—é–¥–∂–µ—Ç: 198    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 138

<b>15.03.05 –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—Å–∫–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –º–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤ </b>
–ë—é–¥–∂–µ—Ç: 191    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 140

<b>22.03.01 –ú–∞—Ç–µ—Ä–∏–∞–ª–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</b>
–ë—é–¥–∂–µ—Ç: 173    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 79

<b>23.03.03 –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω –∏ –∫–æ–º–ø–ª–µ–∫—Å–æ–≤</b>
–ë—é–¥–∂–µ—Ç: 182    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 139

<b>24.03.04 –ê–≤–∏–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</b>
–ë—é–¥–∂–µ—Ç: 231    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 139

<b>24.03.05 –î–≤–∏–≥–∞—Ç–µ–ª–∏ –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤</b>
–ë—é–¥–∂–µ—Ç: 205    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 148

<b>25.03.01 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –ª–µ—Ç–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–ø–ø–∞—Ä–∞—Ç–æ–≤ –∏ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π</b>
–ë—é–¥–∂–µ—Ç: 220    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 138

<b>26.03.02 –ö–æ—Ä–∞–±–ª–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ, –æ–∫–µ–∞–Ω–æ—Ç–µ—Ö–Ω–∏–∫–∞ –∏ —Å–∏—Å—Ç–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ—Ä—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã</b>
–ë—é–¥–∂–µ—Ç: 187    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 143

<b>24.05.02 –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤–∏–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏ —Ä–∞–∫–µ—Ç–Ω—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π</b>
–ë—é–¥–∂–µ—Ç: 196    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 158

<b>24.05.07 –°–∞–º–æ–ª–µ—Ç–æ- –∏ –≤–µ—Ä—Ç–æ–ª–µ—Ç–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ</b>
–ë—é–¥–∂–µ—Ç: 218    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 148""", parse_mode="HTML")
    elif action == "FMF":
        await callback.message.answer("""<b>12.03.05 –õ–∞–∑–µ—Ä–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∏ –ª–∞–∑–µ—Ä–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</b>
–ë—é–¥–∂–µ—Ç: 208    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 48

<b>16.03.01 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ñ–∏–∑–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 169    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: -

<b>28.03.02 –ù–∞–Ω–æ–∏–Ω–∂–µ–Ω–µ—Ä–∏—è</b>
–ë—é–¥–∂–µ—Ç: 182    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: -""", parse_mode="HTML")
    elif action == "IAEP":
        await callback.message.answer("""<b>12.03.01 –ü—Ä–∏–±–æ—Ä–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ</b>
–ë—é–¥–∂–µ—Ç: 188    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 73

<b>12.03.02 –û–ø—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 160    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 60

<b>12.03.04 –ë–∏–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</b>
–ë—é–¥–∂–µ—Ç: 163    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 141

<b>3.03.02 –≠–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 159    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 138

<b>20.03.01 –¢–µ—Ö–Ω–æ—Å—Ñ–µ—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</b>
–ë—é–¥–∂–µ—Ç: 160    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 144

<b>27.03.01 –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –∏ –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è</b>
–ë—é–¥–∂–µ—Ç: 167    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 140

<b>27.03.02 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–æ–º</b>
–ë—é–¥–∂–µ—Ç: 216    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 138

<b>27.03.04 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö</b>
–ë—é–¥–∂–µ—Ç: 214    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 165""", parse_mode="HTML")
    elif action == "IKTZI":
        await callback.message.answer(
            """<b>01.03.02 –ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 252    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 173

<b>09.03.01 –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 248    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 159

<b>09.03.02 –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</b>
–ë—é–¥–∂–µ—Ç: 259    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 161

<b>09.03.03 –ü—Ä–∏–∫–ª–∞–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 248    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 166

<b>09.03.04 –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è</b>
–ë—é–¥–∂–µ—Ç: 269    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 139

<b>10.03.01 –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</b>
–ë—é–¥–∂–µ—Ç: 253    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 183

<b>10.05.02 –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º</b>
–ë—é–¥–∂–µ—Ç: 242    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 199""", parse_mode="HTML")
    elif action == "IREF":
        await callback.message.answer("""<b>11.03.01 –†–∞–¥–∏–æ—Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 175    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 174

<b>11.03.02 –ò–Ω—Ñ–æ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Å–∏—Å—Ç–µ–º—ã —Å–≤—è–∑–∏</b>
–ë—é–¥–∂–µ—Ç: 212    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 137

<b>11.03.03 –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤</b>
–ë—é–¥–∂–µ—Ç: 187    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 172

<b>11.03.04 –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –Ω–∞–Ω–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 177    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: -

<b>12.03.04 –ë–∏–æ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</b>
–ë—é–¥–∂–µ—Ç: 163    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: -

<b>11.05.01 –†–∞–¥–∏–æ—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–º–ø–ª–µ–∫—Å—ã</b>
–ë—é–¥–∂–µ—Ç: 177    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 175

<b>25.05.03 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Ä–∞–¥–∏–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è </b>
–ë—é–¥–∂–µ—Ç: 172    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 154""", parse_mode="HTML")
    elif action == "IIEP":
        await callback.message.answer("""<b>27.03.05 –ò–Ω–Ω–æ–≤–∞—Ç–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 237    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 148

<b>38.03.01 –≠–∫–æ–Ω–æ–º–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 261    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 145

<b>38.03.02 –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç</b>
–ë—é–¥–∂–µ—Ç: 278    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 143

<b>38.03.03 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º</b>
–ë—é–¥–∂–µ—Ç: -    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 141""", parse_mode="HTML")
    elif action == "VSHPIT":
        await callback.message.answer("""<b>09.03.01 –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</b>
–ë—é–¥–∂–µ—Ç: 250    –°–≤–µ—Ä—Ö–ø–ª–∞–Ω–æ–≤–æ–µ: 190""", parse_mode="HTML")
    await callback.answer()


@dp.message(F.text == "üåü –í–∞–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è")
async def important(message: types.Message):
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'bachelor':
            await message.answer("""–í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–∞ lk.kai.ru - —Ç–∞–º —Ç—ã —Å–º–æ–∂–µ—à—å –ø–æ–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ, –æ—Ç—Å–ª–µ–¥–∏—Ç—å —Å–≤–æ–π —Ä–µ–π—Ç–∏–Ω–≥ –∏ —É–∑–Ω–∞—Ç—å –æ —Ç–æ–º, —á—Ç–æ –ø–æ—Å—Ç—É–ø–∏–ª(–∞)!
–¢–∞–∫–∂–µ –º–æ–∂–µ—à—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å <a href="https://abiturientu.kai.ru/documents/1470594/10919962/–ü—Ä–∞–≤–∏–ª–∞+–ø—Ä–∏–µ–º–∞+BO.pdf/2f8200d9-c9e8-4672-a0d1-be511bd781ad">–ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø—Ä–∏—ë–º–∞</a> –∏ <a href="https://abiturientu.kai.ru/normativnye-dokumenty">–Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏</a>.
–ê –Ω–∞ <a href="https://abiturientu.kai.ru/bakalavriat">—Å–∞–π—Ç–µ –ö–ê–ò</a> —Ç—ã –º–æ–∂–µ—à—å —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø–æ—Ä—è–¥–∫–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –±–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Ç–µ—Ç.

–¢–∞–∫–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∞—à <a href="https://www.youtube.com/c/knitukai">YouTube-–∫–∞–Ω–∞–ª</a>, —á—Ç–æ–±—ã —É–∑–Ω–∞–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏. –ö —Ç–æ–º—É –∂–µ –≤—Å—Ç—É–ø–∞–π –≤ –Ω–∞—à <a href="https://t.me/pk_kai24">—á–∞—Ç –≤ Telegram</a>, –≥–¥–µ –º–æ–∂–Ω–æ –ø–æ–æ–±—â–∞—Ç—å—Å—è –∏–ª–∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã.""",
                                 parse_mode="HTML", disable_web_page_preview=True)
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text == "–ö–æ–ª–ª–µ–¥–∂ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–π")
async def kit(message: types.Message):
    logging_date(str(message.from_user.id))
    await message.answer("""–ë–ª–∞–≥–æ–¥–∞—Ä—è –æ–±—É—á–µ–Ω–∏—é –Ω–∞ –°–ü–û –ò–ö–¢–ó–ò –ö–ò–¢ —Ç—ã –ø–æ–ª—É—á–∏—à—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –¥–∏–ø–ª–æ–º–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑—Ü–∞ —á–µ—Ä–µ–∑ 3-4 –≥–æ–¥–∞, —Å–º–æ–∂–µ—à—å —Å—Ä–∞–∑—É –æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–µ–±—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏, –æ–ø–µ—Ä–µ–∂–∞—è —Å–≤–µ—Ä—Å—Ç–Ω–∏–∫–æ–≤.
–¢–∞–∫–∂–µ —Ç—ã –ø–æ–ª—É—á–∏—à—å –æ—Ç—Å—Ä–æ—á–∫—É –æ—Ç –∞—Ä–º–∏–∏ –Ω–∞ –≤–µ—Å—å —Å—Ä–æ–∫ –æ–±—É—á–µ–Ω–∏—è. –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è —Ç—ã –º–æ–∂–µ—à—å –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –Ω–∞ —É—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ —Å—Ö–æ–∂–µ–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏. 
–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —É—á–µ–±–Ω–∏–∫–∞—Ö, –≤—Å–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –æ—Å–Ω–∞—â–µ–Ω—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –¥–æ—Å–∫–æ–π –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π —Å–µ—Ç–∏.

<a href="https://kai.ru/web/kolledz-informacionnyh-tehnologij/">–ü–æ —Å—Å—ã–ª–∫–µ —Ç—ã –º–æ–∂–µ—à—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Å–∞–π—Ç–æ–º –∫–æ–ª–ª–µ–¥–∂–∞</a>""",
                         reply_markup=forspo.as_markup(resize_keyboard=True), parse_mode="HTML",
                         disable_web_page_preview=True)


@dp.message(F.text == "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–ª–ª–µ–¥–∂")
async def tk(message: types.Message):
    logging_date(str(message.from_user.id))
    await message.answer("""–ù–∞—à–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ, –¥–∏–Ω–∞–º–∏—á–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—é—â–µ–µ—Å—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ö–ù–ò–¢–£-–ö–ê–ò.
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–ª–ª–µ–¥–∂ –≥–æ—Ç–æ–≤–∏—Ç –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π —Å—Ä–µ–¥–Ω–µ–≥–æ –∑–≤–µ–Ω–∞, —Å–ø–æ—Å–æ–±–Ω—ã—Ö –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, –Ω–∞–¥–µ–∂–Ω–æ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –ø–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –∫–æ–ª–ª–µ–¥–∂–∞.

<a href="https://kai.ru/web/tehniceskij-kolledz">–ü–æ —Å—Å—ã–ª–∫–µ —Ç—ã –º–æ–∂–µ—à—å –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Å–∞–π—Ç–æ–º –∫–æ–ª–ª–µ–¥–∂–∞</a>""",
                         reply_markup=forspo.as_markup(resize_keyboard=True), parse_mode="HTML",
                         disable_web_page_preview=True)


@dp.message(F.text == "‚úçÔ∏è –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è")
async def exams(message: types.Message):
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'magistracy':
            await message.answer("""–° –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è <a href="https://abiturientu.kai.ru/programmy-vstupitel-nyh-ispytanij1">–∑–¥–µ—Å—å</a>.

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π –Ω–∞ 2024 –≥–æ–¥ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ.""", parse_mode="HTML", disable_web_page_preview=True)
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text == "üîç –ï—â—ë")
async def askme(message: types.Message):
    if str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
        if USERS[str(message.from_user.id)][0] == 'bachelor':
            await message.answer(
                'üèÜ –ö–ù–ò–¢–£-–ö–ê–ò –≤—Ö–æ–¥–∏—Ç –≤ –¢–û–ü-50 –ª—É—á—à–∏—Ö –≤—É–∑–æ–≤ —Å—Ç—Ä–∞–Ω—ã: üëá\nhttps://raex-rr.com/education/russian_universities/top-100_universities/2023/',
                reply_markup=back_menu.as_markup(resize_keyboard=True))
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text == "‚ùå –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é")  # –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –º–µ–Ω—é
async def cancel(message: types.Message):
    logging_date(str(message.from_user.id))
    if USERS[str(message.from_user.id)][0] == 'bachelor':
        await message.answer("–•–æ—Ä–æ—à–æ, –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.", reply_markup=forbachelor.as_markup(resize_keyboard=True))
    elif USERS[str(message.from_user.id)][0] == 'magistracy':
        await message.answer("–•–æ—Ä–æ—à–æ, –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.", reply_markup=formagistracy.as_markup(resize_keyboard=True))
    elif USERS[str(message.from_user.id)][0] == 'spo':
        await message.answer("–•–æ—Ä–æ—à–æ, –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.", reply_markup=forspo.as_markup(resize_keyboard=True))
    elif USERS[str(message.from_user.id)][0] == 'grad':
        await message.answer("–•–æ—Ä–æ—à–æ, –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.", reply_markup=forgrad.as_markup(resize_keyboard=True))
    else:
        await message.answer(basic_answer_unknown)


@dp.message(F.text)  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
async def new_text(message: types.Message):
    # –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –†—É—Å—Å–∫–∏–π, –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞, –§–∏–∑–∏–∫–∞, –•–∏–º–∏—è, –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ, –ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π, –î–æ–ø
    logging_date(str(message.from_user.id))
    if str(message.from_user.id) in FLAG:
        if FLAG[str(message.from_user.id)][0] != False:
            a = message.text
            if FLAG[str(message.from_user.id)][0] == 'doc':
                try:
                    a = a.split()
                    if a[0].lower() == '—Å—Ç–æ–ø':
                        FLAG[str(message.from_user.id)] = [False]
                        with open('FLAG.json', 'w') as fp:
                            json.dump(FLAG, fp)
                        await message.answer('–•–æ—Ä–æ—à–æ, –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.',
                                             reply_markup=forbachelor.as_markup(resize_keyboard=True))
                    elif a[0] == '0':
                        USERS[str(message.from_user.id)][1] = []
                        with open('users.json', 'w') as fp:
                            json.dump(USERS, fp)
                        FLAG[str(message.from_user.id)] = [False]
                        with open('FLAG.json', 'w') as fp:
                            json.dump(FLAG, fp)
                        await message.answer('–ü—Ä–∏–Ω—è—Ç–æ. –ú–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–∑ –º–µ–Ω—é.',
                                             reply_markup=forbachelor.as_markup(resize_keyboard=True))
                    else:
                        if len(a) > 5:
                            await message.answer('–¢—ã –º–æ–∂–µ—à—å –≤–≤–µ—Å—Ç–∏ –Ω–µ –±–æ–ª—å—à–µ –ø—è—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.')
                        else:
                            usl = True  # –≤—Å–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç
                            res = []
                            for i in range(len(a)):
                                el = a[i]
                                if el not in a[i + 1:]:
                                    if el not in RECS:
                                        usl = False
                                        await message.answer(
                                            '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è {} –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.'.format(el))
                                    else:
                                        res.append(el)
                            if usl:
                                USERS[str(message.from_user.id)][1] = res
                                with open('users.json', 'w') as fp:
                                    json.dump(USERS, fp)
                                FLAG[str(message.from_user.id)] = [False]
                                with open('FLAG.json', 'w') as fp:
                                    json.dump(FLAG, fp)
                                await message.answer('–ü—Ä–∏–Ω—è—Ç–æ. –ú–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–∑ –º–µ–Ω—é.',
                                                     reply_markup=forbachelor.as_markup(resize_keyboard=True))
                except:
                    FLAG[str(message.from_user.id)] = [False]
                    with open('FLAG.json', 'w') as fp:
                        json.dump(FLAG, fp)
                    await message.answer('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, —Ç–∞–∫ —á—Ç–æ –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.',
                                         reply_markup=forbachelor.as_markup(resize_keyboard=True))
            else:
                try:
                    a = int(a)
                    if int(FLAG[str(message.from_user.id)][0]) == 7:
                        if 0 <= a <= 10:
                            SCORES[str(message.from_user.id)][int(FLAG[str(message.from_user.id)][0])] = a
                            with open('score.json', 'w') as fp:
                                json.dump(SCORES, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
                            FLAG[str(message.from_user.id)] = [False]
                            with open('FLAG.json', 'w') as fp:
                                json.dump(FLAG, fp)
                            await message.answer('–ü—Ä–∏–Ω—è—Ç–æ. –ú–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–∑ –º–µ–Ω—é.',
                                                 reply_markup=forbachelor.as_markup(resize_keyboard=True))
                        else:
                            await message.answer('–í–≤–µ–¥–µ–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ —á–∏—Å–ª–æ. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞.')
                    else:
                        if 0 <= a <= 100:
                            SCORES[str(message.from_user.id)][int(FLAG[str(message.from_user.id)][0])] = a
                            with open('score.json', 'w') as fp:
                                json.dump(SCORES, fp)  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ json
                            FLAG[str(message.from_user.id)] = [False]
                            with open('FLAG.json', 'w') as fp:
                                json.dump(FLAG, fp)
                            await message.answer('–ü—Ä–∏–Ω—è—Ç–æ. –ú–æ–∂–µ—à—å —Å–Ω–æ–≤–∞ –≤—ã–∑–≤–∞—Ç—å –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏–∑ –º–µ–Ω—é.',
                                                 reply_markup=forbachelor.as_markup(resize_keyboard=True))
                        else:
                            await message.answer('–í–≤–µ–¥–µ–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ–µ —á–∏—Å–ª–æ. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞.')
                except:
                    FLAG[str(message.from_user.id)] = [False]
                    with open('FLAG.json', 'w') as fp:
                        json.dump(FLAG, fp)
                    await message.answer('–ë—ã–ª–æ –≤–≤–µ–¥–µ–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ, —Ç–∞–∫ —á—Ç–æ –≤–µ—Ä–Ω—ë–º—Å—è –≤ –º–µ–Ω—é.',
                                         reply_markup=forbachelor.as_markup(resize_keyboard=True))
        elif str(message.from_user.id) in USERS and USERS[str(message.from_user.id)][0] != '':
            if USERS[str(message.from_user.id)][0] == 'bachelor':
                await message.answer('–Ø –Ω–µ –ø–æ–Ω—è–ª, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å. –í–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂–µ.',
                                     reply_markup=forbachelor.as_markup(resize_keyboard=True))
            elif USERS[str(message.from_user.id)][0] == 'magistracy':
                await message.answer('–Ø –Ω–µ –ø–æ–Ω—è–ª, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å. –í–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂–µ.',
                                     reply_markup=formagistracy.as_markup(resize_keyboard=True))
            elif USERS[str(message.from_user.id)][0] == 'spo':
                await message.answer('–Ø –Ω–µ –ø–æ–Ω—è–ª, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å. –í–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂–µ.',
                                     reply_markup=forspo.as_markup(resize_keyboard=True))
            elif USERS[str(message.from_user.id)][0] == 'grad':
                await message.answer('–Ø –Ω–µ –ø–æ–Ω—è–ª, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å. –í–æ—Å–ø–æ–ª—å–∑—É–π—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∏–∂–µ.',
                                     reply_markup=forgrad.as_markup(resize_keyboard=True))
            else:
                await message.answer(basic_answer_unknown)
    else:
        await message.answer(basic_answer_unknown)


async def main():
    await dp.start_polling(bot)


if __name__ == "__main__":
    save_log('–†–∞–±–æ—Ç–∞ –±–æ—Ç–∞ –Ω–∞—á–∞—Ç–∞.')
    asyncio.run(main())
